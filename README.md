# resource_availability
The purpose of this script is to run as a cron-job that does the following:

1.  Generate a list of devices based on the Family/Model entries in the config file
2.  Generate a time range based on the current time + the Start & End time offsets in the config file
3.  Query all reservations per individual devices based on the generated time range
4.  Generate a JSON file with formatted date for each reservation, per device, for use in AmChart's Gantt Chart widget

__availability_cron.py__ is the script to run.

---
### Configs
+ `who_am_i`: the name of this process (for reporting purposes only / logging if added)

+ `cloudshell_server`: hostname (or IP) of the CloudShell Server to query against

+ `cs_admin_username`: CloudShell user name, should be an admin to ensure access all domains (service account ok)

+ `cs_admin_password`: BASE64 User's corresponding password

+ `cs_domain`: Domain in to which to query (Global recommended)

+ `start_offset`: The amount of time (in seconds) to offset the query start time vs. the current time (Negative numbers allowed)
    - Minus 7 days would be entered as `-604800` (-7 x 24 x 60 x 60)

+ `end_offset`: The amount of time (in seconds) to offset the query end time vs. the current time (Negative numbers allowed)
    - Plus 14 days would be entered as `1209000` (14 x 24 x 60 x 60)

+ `gantt_data`: The Name & Full Filepath for the JSON generated by the job.   Set to overwrite any existing file.

+ `fam_model_list`: A list of entries for the query.  Will return all devices with in that specified entry, along with a list of reservations associated with each device
    - Each entry is `<FamilyName>,<ModelName>` where either can be omitted, but not both.
    - _Acceptable: `<FamilyName>,` or `<FamilyName>,<ModelName>`_
    - _Not Recommended (But Valid): `,<ModelName>`_
    - All times generated for reservations are in GMT
    - Format `YYYY-MM-DD HH:MM` (24 Hour Clock)